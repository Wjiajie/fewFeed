# 产品需求文档 (PRD): FewFeed - 智能边缘信息聚合器

## 1. 产品概述
**FewFeed** 是一款抗算法推荐、基于边缘计算的智能信息聚合阅读器。它旨在帮助用户从信息过载中解脱，通过主动订阅优质信源（如即刻个人主页、YouTube 频道、技术博客等），结合 AI 自动摘要与对话能力，重获对信息摄入的控制权。

### 1.1 核心价值
*   **主动掌控**：拒绝黑盒推荐算法，只看用户显式订阅的内容。
*   **高效获取**：利用 LLM 自动生成核心摘要，三秒获取价值，降低阅读噪音。
*   **深度交互**：不仅仅是阅读，更可以与信源内容进行 AI 对话，深入挖掘信息。
*   **边缘原生**：利用 Cloudflare 边缘网络提供极致的访问速度和低延迟体验。

### 1.2 目标用户
*   **知识工作者/开发者**：需要高效跟踪技术趋势，关注特定博主或项目。
*   **内容创作者**：需要广泛收集素材，但不希望被无关娱乐内容干扰。
*   **极简主义者**：厌恶复杂臃肿的 App，追求高效、美观的 Web 体验。

## 2. 功能需求

### 2.1 订阅管理 (Source Management)
用户可以管理他们的信息来源，支持多种异构平台。
*   **添加订阅源**：
    *   支持输入 URL 自动识别源类型。
    *   **即刻 (Jike)**：支持输入即刻个人主页链接或用户名。
    *   **YouTube**：支持输入频道链接或 Handle (e.g., @user)。
    *   **RSS/Atom**：支持标准博客/新闻源 RSS 地址。
*   **源列表管理**：查看已订阅列表，支持暂停/激活更新，删除订阅。
*   **源元数据**：自动抓取源头像、名称、简介。

### 2.2 自动化摄取与处理 (Ingestion & Processing)
后台自动运行的智能管道，无需用户干预。
*   **定时抓取**：系统每日/每小时（根据配置）自动检查更新。
*   **智能去重**：自动过滤已读或重复内容。
*   **AI 摘要生成**：
    *   针对每条新内容，调用 LLM (Llama 3) 生成 3 点核心摘要。
    *   摘要需客观、简练，支持中文输出。
    *   支持处理长文本和视频字幕（需预处理截断）。
*   **混合存储**：结构化元数据存入 D1，完整内容/快照存入 R2。

### 2.3 阅读体验 (Feed Experience)
*   **聚合时间流**：按时间倒序展示所有订阅源的更新。
*   **智能卡片 (Feed Card)**：
    *   展示源信息的头像、来源徽章（YouTube 红/即刻黄）。
    *   标题链接直达原文。
    *   **折叠式摘要**：默认展示 3 行摘要，点击展开全文及原文链接。
    *   **稍后读**：标记内容以便后续深度阅读。
*   **内容详情与对话**：
    *   点击内容可进入详情模式（由于是链接聚合，主要是 AI 交互）。
    *   **"与内容对话" (Chat with Content)**：在当前条目下开启 AI 对话窗口，基于该条目的内容回答用户提问（如：“这篇文章提到了哪些工具？”）。

### 2.4 用户系统与商业化
*   **身份认证**：通过 GitHub/Google 快捷登录 (Auth.js)。
*   **会员订阅 (Pro)**：
    *   免费版：限制订阅源数量（如 5 个），基础摘要模型。
    *   Pro 版：无限订阅，更快的更新频率，高级模型支持。
    *   支付集成：Paddle 支付网关。

## 3. 非功能需求 (NFR)
*   **性能**：首屏加载时间 (LCP) < 1.0s，利用 Next.js ISR/Edge 渲染。
*   **可用性**：依赖 Cloudflare Network，保证全球高可用。
*   **成本控制**：
    *   优先使用 Cloudflare 免费额度 (Workers AI, D1, R2)。
    *   架构需支持 Scale to Zero（无流量时不产生计算费用）。
*   **隐私与安全**：
    *   数据所有权：用户订阅数据存储在私有 D1 数据库中。
    *   Webhook 签名验证：确保支付回调安全。

## 4. 数据指标
*   **核心指标**：DAU (日活)、用户平均订阅数、AI 对话使用率。
*   **商业指标**：Pro 会员转化率、MRR (月经常性收入)。
